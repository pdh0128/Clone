<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOOGLE</title>

    <link rel="stylesheet" href="Google.css">
    <link rel="stylesheet" href="HIGHBAR.css">
    <link rel="stylesheet" href="Chrome-option.css">
    <link rel="stylesheet" href="profile.css">

</head>
<body>
    <div id="BACK">
        <div id="HIGHBAR">
            <span onClick="MOVEPAGE('https://mail.google.com/mail')">Gmail</span>
            <span onClick="MOVEPAGE('https://www.google.com/imghp?hl=ko&tab=ri&authuser=0&ogbl')">이미지</span>
            <img src="_약물.png" onClick="MOVEPAGE('https://labs.google.com/search?source=ntp&authuser=0')">
            <img src="_메뉴.png">
            <img src="감만동.png" id="MANDONG">
        </div>
        <div class="profile">
            
            <div id = 'Gmail'>mandong@gmail.com</div>
            <img src="감만동.png">
            
            
                <div class = "devops" onclick="location.href= 'https://myaccount.google.com'" >계졍 관리</div>
                <div id = "drop" onclick = toggleDropdown()><span id ='ejqhrl'>계정 더보기</span>
                    <div class = "downA">^</div>
                </div>

                <div class = "droped" onclick="toggleDropdown(); swapContent(1)">
                    <h1 id = 'val1'>동현</h1>
                    <p id = 'val1@'>24.022@bssm.hs.kr</p>
                </div>

                <div class = "droped" onclick="toggleDropdown(); swapContent(2)">
                    <h1 id = 'val2'>준희</h1>
                    <p id = 'val2@'>08HwangJH@gmail.com</p>
                </div>

                <div class = "droped Logout">
                    <h1>로그아웃</h1>
                </div>
                <span class="dirrhks">
                    <span class="cjflback" onclick = 'location.href = "https://policies.google.com/privacy" '>개인정보 처리방침</span>
                    <span class = "wndrkswja">·</span> 
                    <span class="cjflback" onclick = 'location.href = "https://policies.google.com/terms" '>서비스 약관</span>
                </span>
        </div>
        <div id="G">Google</div>
        <div id="serachbar">
            <img src="돋보기.png" style='cursor: default;' onclick="LOAD()">
            <input type="text" id="searchInput" placeholder="Google 검색 또는 URL 입력" name="Search">
            <img src="마이크.png">
            <img src="_카메라.png" onClick="MOVEPAGE('CAMERA.html')">
        </div>
        <div class="S_BAR">
            <a href="#" class="TITLE"></a><br>
            <a href="#" class="TITLE"></a><br>
            <a href="#" class="TITLE"></a><br>
            <a href="#" class="TITLE"></a>
        </div>
        <div class="control-box">
            <img src="Youtube.png" onClick="MOVEPAGE('https://www.youtube.com/')">
            <img src="Gpt.icon.png" onClick="MOVEPAGE('https://chatgpt.com/')">
            <img src="BACKJOON.png" onClick="MOVEPAGE('https://www.acmicpc.net/')">
            <img src="BOOTSTRAP.png" onClick="MOVEPAGE('https://getbootstrap.com/')">
            <img src="FIGMA.png" onClick="MOVEPAGE('https://www.figma.com')">
        </div>
        <div class="control-box">
            <img src="GITHUB.png" onClick="MOVEPAGE('https://github.com/')">
            <img src="VIVE.png" onClick="MOVEPAGE('https://vibe.naver.com/')">
            <img src="NAVER.png" onClick="MOVEPAGE('https://www.naver.com/')">
            <img src="Youtube.png" onClick="MOVEPAGE('https://www.youtube.com/')">
        </div>

        <div id="button">
            <button onClick="OPTION()" id="CHOPTION"><span><img src="연필.png">Chrome 맞춤설정</span></button>
            <div id="option">
                <div>
                    <h1>크롬 맞춤설정</h1>
                    <div class="palret">
                        <img src="팔레트/팔레트1.jpeg" onClick="COLOR('#3C3C3C')">
                        <img src="팔레트/팔레트2.png" onClick="COLOR('#657794')">
                        <img src="팔레트/팔레트3.png" onClick="COLOR('#27b355')">
                        <img src="팔레트/팔레트4.png" onClick="COLOR('#6cabd6')">
                        <img src="팔레트/팔레트5.png" onClick="COLOR('#27bd2c')">
                        <img src="팔레트/팔레트6.png" onClick="COLOR('#d68f2b')">
                        <img src="팔레트/팔레트7.png" onClick="COLOR('#c13e21')">
                        <img src="팔레트/팔레트8.png" onClick="COLOR('#b420b4')">
                        <img src="팔레트/팔레트9.png" onClick="COLOR('#63115b')">
                        <img src="팔레트/팔레트10.png" onClick="COLOR('#121481')">
                        <img src="팔레트/팔레트11.png" onClick="COLOR('#ac8c1a')">
                        <div class="baro">
                            <h3>바로가기 끄기</h3>
                            <label class="switch">
                                <input type="checkbox" onclick="PALA()">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="overlay"></div>

    <script>
        const MOVEPAGE = (address) => {
            location.href = address;
        };
        const LOAD = () => {
            location.reload();
        }
        const OPTION = () => {
            const optionDiv = document.getElementById('option');
            optionDiv.style.display = optionDiv.style.display || 'none';
            optionDiv.style.display = optionDiv.style.display === 'none' ? 'flex' : 'none';
            
            const HIGHBAR = document.querySelector("#HIGHBAR");
            HIGHBAR.style.width = HIGHBAR.style.width || "98%";
            HIGHBAR.style.width = HIGHBAR.style.width === "98%" ? "81%" : "98%";

            const CHOPTION = document.querySelector("#CHOPTION");
            CHOPTION.style.marginRight = CHOPTION.style.marginRight || "0px";
            CHOPTION.style.marginRight = CHOPTION.style.marginRight === "0px" ? "260px" : "0px";
        };

        const PALA = () => {
            const gooi = document.querySelectorAll(".control-box");
            gooi.forEach(e => {
                e.style.visibility = e.style.visibility === "hidden" ? "visible" : "hidden";
            });
        }
        const COLOR = (color) => {
            const overlay = document.getElementById('overlay');
            overlay.style.backgroundColor = `rgba(${parseInt(color.slice(1, 3), 16)}, ${parseInt(color.slice(3, 5), 16)}, ${parseInt(color.slice(5, 7), 16)}, 0.2)`;
            overlay.style.display = (color === '#3C3C3C') ? "none" : "block"
        }

        const Key = 'AIzaSyAxJY-U4-ujyXLtTEan7bh3Rdu_4JFM2C0'; 
        const searchId = '8363f8764f02d4024'; 

        
        function googleSearch(query) {
            const url = `https://www.googleapis.com/customsearch/v1?key=${Key}&cx=${searchId}&q=${query}`;
            
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    const TITLE = document.querySelectorAll(".TITLE");
                    for (let i = 0; i < TITLE.length; i++) {
                        TITLE[i].innerText = ""; // 초기화
                        TITLE[i].href = ""; // 초기화
                    }

                    if (data.items) {
                        for (let i = 0; i < Math.min(data.items.length, 4); i++) {
                            const item = data.items[i];
                            const title = item.title;
                            const link = item.link;
                            console.log(`Title: ${title}`);
                            TITLE[i].innerText = title;
                            console.log(`Link: ${link}\n`);
                            TITLE[i].href = link;
                        }
                    } else {
                        console.log('No items found');
                    }
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        }

        document.querySelector("#searchInput").addEventListener('keydown', (e) => {
            if (e.key === "Enter") {
                e.preventDefault();
                const S_Bar = document.querySelector(".S_BAR"); //S_BAR = Search Bar
                S_Bar.style.display = 'block';
                const query = e.target.value;
                googleSearch(query);
            }
        });

        document.querySelector("#searchInput").addEventListener('blur', () => {
        const searchInputValue = document.querySelector("#searchInput").value.trim();
        if (searchInputValue === "") {
            document.querySelector(".S_BAR").style.display = 'none';
        }
}); 

const profile = document.querySelector('.profile');

document.querySelector('#MANDONG').addEventListener("click", (e) => {
    e.stopPropagation(); //이벤트가 부모요소로 안빠져나가고 지한테 끝나는 매서드
    profile.style.display = profile.style.display === 'flex' ? 'none' : 'flex';
})

const dropeds = document.querySelectorAll('.droped');

dropeds.forEach(droped => {
    droped.addEventListener("click", (e) => {
        e.stopPropagation(); 
        profile.style.display = profile.style.display === 'flex' ? 'none' : 'flex';

    });
});


document.addEventListener('click', function(e) {
    if (e.target.closest('.profile')) {
        return;
    }
    profile.style.display = 'none';
})

const toggleDropdown = () => {
            document.querySelector('.downA').classList.toggle('rotate');
            const Drop = document.querySelector("#drop");
            Drop.style.borderBottomRightRadius = "0%";
            Drop.style.borderBottomLeftRadius = "0%";
            const Te = document.querySelector('#ejqhrl');
            Te.innerText = Te.innerText === '계정 더보기' ? '계정 더보기 숨기기' : '계정 더보기';
            droped = document.querySelectorAll(".droped");
            droped.forEach (s => {
                s.style.display = s.style.display == "flex" ? "none" : "flex";
            })
            droped[droped.length - 1].style.borderBottomLeftRadius = '20px';
            droped[droped.length - 1].style.borderBottomRightRadius = '20px';
            const profile = document.querySelector('.profile');
            profile.style.height = profile.style.height === '450px' ? '300px' : '450px'; 
    }

    const swapContent = (index) => {
    const Gmail = document.getElementById('Gmail');
    const val1 = document.getElementById('val1');
    const v1 = document.getElementById('val1@');
    const val2 = document.getElementById('val2');
    const v2 = document.getElementById('val2@');
    
    const profiles = [
        { name: '만동', email: 'mandong@gmail.com' },
        { name: '동현', email: '24.022@bssm.hs.kr' },
        { name: '준희', email: '08HwangJH@gmail.com' }
    ];

    let currentIndex = profiles.findIndex(profile => profile.email === Gmail.innerText);
    let targetIndex = index;

    if (currentIndex !== -1 && targetIndex !== -1) {
        
        [profiles[currentIndex], profiles[targetIndex]] = [profiles[targetIndex], profiles[currentIndex]];

        
        Gmail.innerText = profiles[currentIndex].email;
        document.getElementById('val' + (targetIndex)).innerText = profiles[targetIndex].name;
        document.getElementById('val' + (targetIndex) + '@').innerText = profiles[targetIndex].email;

        if (currentIndex === 0) {
            val1.innerText = profiles[1].name;
            v1.innerText = profiles[1].email;
            val2.innerText = profiles[2].name;
            v2.innerText = profiles[2].email;
        } else if (currentIndex === 1) {
            val1.innerText = profiles[0].name;
            v1.innerText = profiles[0].email;
            val2.innerText = profiles[2].name;
            v2.innerText = profiles[2].email;
        } else {
            val1.innerText = profiles[0].name;
            v1.innerText = profiles[0].email;
            val2.innerText = profiles[1].name;
            v2.innerText = profiles[1].email;
        }
    }
};

    </script>
</body>
</html>
